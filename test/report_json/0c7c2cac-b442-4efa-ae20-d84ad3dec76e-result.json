{"name": "test_login", "status": "broken", "statusDetails": {"message": "KeyError: '$test'", "trace": "self = <test_01.Test_choice object at 0x0000026BE9EB9748>\n\n    @allure.feature('测试用例1')\n    # @pytest.mark.parametrize('name', (case.caae_name[\"choice\"][\"login\"]))\n    def test_login(self):\n>       self.pytestObject(self,\"login\")\n\ntest_01.py:13: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\base\\PytestObject.py:13: in pytestObject\n    assertion=case.run(module,name)\n..\\base\\CaseOperate.py:63: in run\n    body = self.myReplace(json.dumps(request_list['body']))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <base.CaseOperate.Case object at 0x0000026BEB4E7BC8>, body = '{\"captcha\": \"1234\", \"mobile\": \"${test.mobile}\"}'\n\n    def myReplace(self, body):\n        if '${' in body:\n            responses = re.findall(r'\\$(.+?)\\}', body, re.M | re.I)\n            for response in responses:\n                if \"myMethod\" in response:\n                    response = \"$\"+response+\"}\"\n                    name = response.split(\"myMethod.\")[1].split(\"(\")[0]\n                    parameter = response.split(name+\"(\")[1].split(\")\")[0]\n                    if '${' in parameter:\n                        response = response+\")}\"\n                        return_name=parameter.split(\".\")[0].split(\"{\")[1]\n                        parameter = parameter.replace(\"${\", \"{response.\")\n                        obj=MyObject.dict_to_object({\"response\":{return_name:test.data[\"response\"][return_name]}})\n                        parameter = parameter.format(response=obj.response)\n                    new_parameter = myMethod.get(\n                        name, parameter.encode('utf-8').decode('unicode_escape'))\n                    body = body.replace(response, new_parameter)\n                    print(body)\n                else:\n                    response = \"$\"+response+\"}\"\n                    new_response = response\n                    new_response = new_response.replace(\"${\", \"{response.\")\n                    return_name=response.split(\".\")[0].replace(\"{\",\"\")\n>                   obj=MyObject.dict_to_object({\"response\":{return_name:test.data[\"response\"][return_name]}})\nE                   KeyError: '$test'\n\n..\\base\\CaseOperate.py:54: KeyError"}, "attachments": [{"name": "stdout", "source": "f05a1419-7722-425f-9869-ec229aceb11b-attachment.txt", "type": "text/plain"}], "start": 1605262763041, "stop": 1605262763042, "uuid": "4cf4165c-5a83-4d61-9b51-614cad295148", "historyId": "4b27489b1ef16f26c022388963ed9672", "testCaseId": "29833af1bc62bae296571ec4b1662ac8", "fullName": "test_01.Test_choice#test_login", "labels": [{"name": "feature", "value": "测试用例1"}, {"name": "suite", "value": "test_01"}, {"name": "subSuite", "value": "Test_choice"}, {"name": "host", "value": "LAPTOP-4V3QBUP4"}, {"name": "thread", "value": "15512-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_01"}]}